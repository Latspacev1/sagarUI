{"ast":null,"code":"import _objectSpread from\"/Users/hellevete/Documents/sagaruiv2/latspacefrontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useCallback}from'react';import{Layout}from'../layout/Layout';import{Download,Upload,FileSpreadsheet,AlertTriangle,CheckCircle,X,Eye}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const BulkUpload=()=>{const[files,setFiles]=useState([]);const[isDragOver,setIsDragOver]=useState(false);const[showPreview,setShowPreview]=useState(null);const templateData=[{facility_id:'fac1',metric_type:'environmental',metric_name:'emissions',value:245,unit:'tons',reporting_period:'2024-Q2',date_recorded:'2024-06-15'},{facility_id:'fac1',metric_type:'environmental',metric_name:'energy',value:1250,unit:'MWh',reporting_period:'2024-Q2',date_recorded:'2024-06-15'},{facility_id:'fac1',metric_type:'social',metric_name:'employees',value:450,unit:'count',reporting_period:'2024-Q2',date_recorded:'2024-06-15'}];const downloadTemplate=()=>{const csv=[Object.keys(templateData[0]).join(','),...templateData.map(row=>Object.values(row).join(','))].join('\\n');const blob=new Blob([csv],{type:'text/csv'});const url=window.URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download='esg_data_template.csv';document.body.appendChild(a);a.click();document.body.removeChild(a);window.URL.revokeObjectURL(url);};const handleDragOver=useCallback(e=>{e.preventDefault();setIsDragOver(true);},[]);const handleDragLeave=useCallback(e=>{e.preventDefault();setIsDragOver(false);},[]);const handleDrop=useCallback(e=>{e.preventDefault();setIsDragOver(false);const droppedFiles=Array.from(e.dataTransfer.files);processFiles(droppedFiles);},[]);const handleFileSelect=useCallback(e=>{if(e.target.files){const selectedFiles=Array.from(e.target.files);processFiles(selectedFiles);}},[]);const processFiles=fileList=>{const excelFiles=fileList.filter(file=>{const isExcel=file.type.includes('sheet')||file.type.includes('excel')||file.name.endsWith('.csv');if(!isExcel){alert(\"File \".concat(file.name,\" is not a supported spreadsheet format\"));return false;}if(file.size>5*1024*1024){// 5MB limit\nalert(\"File \".concat(file.name,\" is too large. Maximum size is 5MB\"));return false;}return true;});const newFiles=excelFiles.map(file=>({id:Math.random().toString(36).substr(2,9),name:file.name,size:file.size,status:'uploading',progress:0}));setFiles(prev=>[...prev,...newFiles]);newFiles.forEach(file=>{simulateFileProcessing(file.id);});};const simulateFileProcessing=async fileId=>{// Simulate upload\nfor(let progress=0;progress<=100;progress+=25){await new Promise(resolve=>setTimeout(resolve,200));setFiles(prev=>prev.map(f=>f.id===fileId?_objectSpread(_objectSpread({},f),{},{progress}):f));}// Start validation\nsetFiles(prev=>prev.map(f=>f.id===fileId?_objectSpread(_objectSpread({},f),{},{status:'validating',progress:0}):f));// Simulate validation progress\nfor(let progress=0;progress<=100;progress+=20){await new Promise(resolve=>setTimeout(resolve,300));setFiles(prev=>prev.map(f=>f.id===fileId?_objectSpread(_objectSpread({},f),{},{progress}):f));}// Simulate validation results\nconst mockErrors=[{row:5,column:'value',value:'invalid',error:'Value must be numeric'},{row:8,column:'facility_id',value:'unknown',error:'Facility ID not found'}];const mockPreviewData=[{facility_id:'fac1',metric_type:'environmental',metric_name:'emissions',value:245,unit:'tons'},{facility_id:'fac1',metric_type:'environmental',metric_name:'energy',value:1250,unit:'MWh'},{facility_id:'fac1',metric_type:'social',metric_name:'employees',value:450,unit:'count'}];// Complete validation\nsetFiles(prev=>prev.map(f=>f.id===fileId?_objectSpread(_objectSpread({},f),{},{status:mockErrors.length>0?'invalid':'valid',progress:100,rowCount:150,validRows:148,errors:mockErrors,previewData:mockPreviewData}):f));};const removeFile=fileId=>{setFiles(prev=>prev.filter(f=>f.id!==fileId));};const importFile=async fileId=>{setFiles(prev=>prev.map(f=>f.id===fileId?_objectSpread(_objectSpread({},f),{},{status:'imported'}):f));// Simulate import process\nawait new Promise(resolve=>setTimeout(resolve,1000));};const formatFileSize=bytes=>{if(bytes===0)return'0 Bytes';const k=1024;const sizes=['Bytes','KB','MB'];const i=Math.floor(Math.log(bytes)/Math.log(k));return parseFloat((bytes/Math.pow(k,i)).toFixed(2))+' '+sizes[i];};const getStatusIcon=status=>{switch(status){case'valid':return/*#__PURE__*/_jsx(CheckCircle,{className:\"w-5 h-5 text-latspace-dark\"});case'invalid':return/*#__PURE__*/_jsx(AlertTriangle,{className:\"w-5 h-5 text-latspace-light\"});case'imported':return/*#__PURE__*/_jsx(CheckCircle,{className:\"w-5 h-5 text-latspace-medium\"});default:return/*#__PURE__*/_jsx(\"div\",{className:\"w-5 h-5 border-2 border-latspace-medium border-t-transparent animate-spin\"});}};const getStatusText=file=>{var _file$errors;switch(file.status){case'uploading':return'Uploading...';case'validating':return'Validating data...';case'valid':return\"Valid (\".concat(file.validRows,\"/\").concat(file.rowCount,\" rows)\");case'invalid':return\"Invalid (\".concat((_file$errors=file.errors)===null||_file$errors===void 0?void 0:_file$errors.length,\" errors found)\");case'imported':return'Successfully imported';default:return'Processing...';}};return/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto space-y-grid-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between border-b border-gray-200 pb-grid-3\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-semibold text-latspace-dark\",children:\"Bulk Upload\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:downloadTemplate,className:\"inline-flex items-center px-grid-3 py-grid-2 bg-latspace-dark text-white hover:bg-latspace-medium transition-colors uppercase text-xs font-semibold tracking-wider\",children:[/*#__PURE__*/_jsx(Download,{className:\"w-4 h-4 mr-grid\"}),\"Download Template\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white border border-gray-200 p-grid-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-base font-semibold text-latspace-dark mb-grid-3 uppercase tracking-wide\",children:\"Template Format\"}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full border border-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"tr\",{children:Object.keys(templateData[0]).map(header=>/*#__PURE__*/_jsx(\"th\",{className:\"px-grid-3 py-grid-2 text-left text-xs font-semibold text-latspace-dark uppercase tracking-wider border-r border-gray-200 last:border-r-0\",children:header},header))})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white\",children:templateData.map((row,index)=>/*#__PURE__*/_jsx(\"tr\",{className:\"border-b border-gray-200 last:border-b-0\",children:Object.values(row).map((value,cellIndex)=>/*#__PURE__*/_jsx(\"td\",{className:\"px-grid-3 py-grid-2 text-xs text-latspace-dark font-mono data-value border-r border-gray-200 last:border-r-0 grid-pattern\",children:value},cellIndex))},index))})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-2 p-grid-8 text-center transition-colors bg-white \".concat(isDragOver?'border-latspace-dark':'border-gray-300 hover:border-latspace-medium'),onDragOver:handleDragOver,onDragLeave:handleDragLeave,onDrop:handleDrop,children:[/*#__PURE__*/_jsx(FileSpreadsheet,{className:\"w-grid-6 h-grid-6 text-latspace-medium mx-auto mb-grid-3\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-base font-semibold text-latspace-dark mb-grid-2 uppercase tracking-wide\",children:\"Upload Excel/CSV Files\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-latspace-medium mb-grid-3 text-sm\",children:\"Drag and drop your spreadsheet files here, or click to browse\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",multiple:true,accept:\".xlsx,.xls,.csv\",onChange:handleFileSelect,className:\"hidden\",id:\"bulk-upload\"}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"bulk-upload\",className:\"inline-flex items-center px-grid-3 py-grid-2 bg-latspace-dark text-white hover:bg-latspace-medium transition-colors cursor-pointer uppercase text-xs font-semibold tracking-wider\",children:[/*#__PURE__*/_jsx(Upload,{className:\"w-4 h-4 mr-grid\"}),\"Choose Files\"]})]}),files.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white border border-gray-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-grid-4 py-grid-3 border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-base font-semibold text-latspace-dark uppercase tracking-wide\",children:\"Upload Progress\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-grid-4 space-y-grid-3\",children:files.map(file=>/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 p-grid-3 grid-pattern\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-grid-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(FileSpreadsheet,{className:\"w-6 h-6 text-latspace-dark\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-grid-2\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-semibold text-latspace-dark\",children:file.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-latspace-medium font-mono data-value\",children:[formatFileSize(file.size),\" \\u2022 \",getStatusText(file)]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-grid-2\",children:[getStatusIcon(file.status),file.status==='valid'&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowPreview(showPreview===file.id?null:file.id),className:\"text-latspace-medium hover:text-latspace-dark transition-colors\",children:/*#__PURE__*/_jsx(Eye,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeFile(file.id),className:\"text-latspace-medium hover:text-latspace-dark transition-colors\",children:/*#__PURE__*/_jsx(X,{className:\"w-4 h-4\"})})]})]}),(file.status==='uploading'||file.status==='validating')&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-grid-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between text-xs mb-grid\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-latspace-medium uppercase tracking-wider\",children:getStatusText(file)}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-mono text-latspace-dark data-value\",children:[file.progress,\"%\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-latspace-dark h-2 transition-all duration-300\",style:{width:\"\".concat(file.progress,\"%\")}})})]}),file.status==='invalid'&&file.errors&&/*#__PURE__*/_jsxs(\"div\",{className:\"border border-latspace-light p-grid-2 mb-grid-2\",children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"text-xs font-semibold text-latspace-light mb-grid-2 uppercase tracking-wider\",children:[\"VALIDATION ERRORS (\",file.errors.length,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-grid max-h-32 overflow-y-auto\",children:file.errors.map((error,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-latspace-light font-mono\",children:[\"ROW \",error.row,\", COLUMN \\\"\",error.column,\"\\\": \",error.error]},index))})]}),file.status==='valid'&&showPreview===file.id&&file.previewData&&/*#__PURE__*/_jsxs(\"div\",{className:\"border border-latspace-dark p-grid-2 mb-grid-2\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-xs font-semibold text-latspace-dark mb-grid-2 uppercase tracking-wider\",children:\"DATA PREVIEW (FIRST 3 ROWS)\"}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full text-xs border border-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsx(\"tr\",{className:\"border-b border-gray-200\",children:Object.keys(file.previewData[0]).map(header=>/*#__PURE__*/_jsx(\"th\",{className:\"text-left px-grid py-1 text-latspace-dark font-semibold uppercase tracking-wider\",children:header},header))})}),/*#__PURE__*/_jsx(\"tbody\",{children:file.previewData.map((row,index)=>/*#__PURE__*/_jsx(\"tr\",{className:\"border-b border-gray-200 last:border-b-0\",children:Object.values(row).map((value,cellIndex)=>/*#__PURE__*/_jsx(\"td\",{className:\"px-grid py-1 text-latspace-dark font-mono data-value\",children:String(value)},cellIndex))},index))})]})})]}),file.status==='valid'&&/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>importFile(file.id),className:\"px-grid-3 py-grid-2 bg-latspace-dark text-white hover:bg-latspace-medium transition-colors uppercase text-xs font-semibold tracking-wider\",children:\"Import Data\"})}),file.status==='imported'&&/*#__PURE__*/_jsx(\"div\",{className:\"border border-latspace-medium p-grid-2\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-latspace-medium font-mono uppercase\",children:[\"SUCCESSFULLY IMPORTED \",file.validRows,\" ROWS OF ESG DATA\"]})})]},file.id))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white border border-gray-200 p-grid-4 grid-pattern\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-base font-semibold text-latspace-dark mb-grid-3 uppercase tracking-wide flex items-center\",children:[/*#__PURE__*/_jsx(AlertTriangle,{className:\"w-5 h-5 text-latspace-medium mr-grid-2\"}),\"Bulk Upload Guidelines\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-grid-2 text-xs\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-latspace-medium mr-grid\",children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-latspace-medium uppercase tracking-wider\",children:\"USE THE PROVIDED TEMPLATE FORMAT FOR BEST RESULTS\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-latspace-medium mr-grid\",children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-latspace-medium uppercase tracking-wider\",children:\"ENSURE FACILITY_ID MATCHES YOUR ASSIGNED FACILITIES\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-latspace-medium mr-grid\",children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-latspace-medium uppercase tracking-wider\",children:\"NUMERIC VALUES SHOULD NOT CONTAIN COMMAS OR CURRENCY SYMBOLS\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-latspace-medium mr-grid\",children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-latspace-medium uppercase tracking-wider\",children:\"DATES SHOULD BE IN YYYY-MM-DD FORMAT\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-latspace-medium mr-grid\",children:\"\\u2022\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-latspace-medium uppercase tracking-wider\",children:\"MAXIMUM FILE SIZE: 5MB PER FILE\"})]})]})]})]})});};","map":{"version":3,"names":["React","useState","useCallback","Layout","Download","Upload","FileSpreadsheet","AlertTriangle","CheckCircle","X","Eye","jsx","_jsx","jsxs","_jsxs","BulkUpload","files","setFiles","isDragOver","setIsDragOver","showPreview","setShowPreview","templateData","facility_id","metric_type","metric_name","value","unit","reporting_period","date_recorded","downloadTemplate","csv","Object","keys","join","map","row","values","blob","Blob","type","url","window","URL","createObjectURL","a","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","handleDragOver","e","preventDefault","handleDragLeave","handleDrop","droppedFiles","Array","from","dataTransfer","processFiles","handleFileSelect","target","selectedFiles","fileList","excelFiles","filter","file","isExcel","includes","name","endsWith","alert","concat","size","newFiles","id","Math","random","toString","substr","status","progress","prev","forEach","simulateFileProcessing","fileId","Promise","resolve","setTimeout","f","_objectSpread","mockErrors","column","error","mockPreviewData","length","rowCount","validRows","errors","previewData","removeFile","importFile","formatFileSize","bytes","k","sizes","i","floor","log","parseFloat","pow","toFixed","getStatusIcon","className","getStatusText","_file$errors","children","onClick","header","index","cellIndex","onDragOver","onDragLeave","onDrop","multiple","accept","onChange","htmlFor","style","width","String"],"sources":["/Users/hellevete/Documents/sagaruiv2/latspacefrontend/src/components/data-collection/BulkUpload.tsx"],"sourcesContent":["import React, { useState, useCallback } from 'react';\nimport { Layout } from '../layout/Layout';\nimport { Download, Upload, FileSpreadsheet, AlertTriangle, CheckCircle, X, Eye } from 'lucide-react';\n\ninterface ValidationError {\n  row: number;\n  column: string;\n  value: string;\n  error: string;\n}\n\ninterface BulkUploadFile {\n  id: string;\n  name: string;\n  size: number;\n  status: 'uploading' | 'validating' | 'valid' | 'invalid' | 'imported';\n  progress: number;\n  rowCount?: number;\n  validRows?: number;\n  errors?: ValidationError[];\n  previewData?: any[];\n}\n\nexport const BulkUpload: React.FC = () => {\n  const [files, setFiles] = useState<BulkUploadFile[]>([]);\n  const [isDragOver, setIsDragOver] = useState(false);\n  const [showPreview, setShowPreview] = useState<string | null>(null);\n\n  const templateData = [\n    {\n      facility_id: 'fac1',\n      metric_type: 'environmental',\n      metric_name: 'emissions',\n      value: 245,\n      unit: 'tons',\n      reporting_period: '2024-Q2',\n      date_recorded: '2024-06-15'\n    },\n    {\n      facility_id: 'fac1',\n      metric_type: 'environmental',\n      metric_name: 'energy',\n      value: 1250,\n      unit: 'MWh',\n      reporting_period: '2024-Q2',\n      date_recorded: '2024-06-15'\n    },\n    {\n      facility_id: 'fac1',\n      metric_type: 'social',\n      metric_name: 'employees',\n      value: 450,\n      unit: 'count',\n      reporting_period: '2024-Q2',\n      date_recorded: '2024-06-15'\n    }\n  ];\n\n  const downloadTemplate = () => {\n    const csv = [\n      Object.keys(templateData[0]).join(','),\n      ...templateData.map(row => Object.values(row).join(','))\n    ].join('\\n');\n\n    const blob = new Blob([csv], { type: 'text/csv' });\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = 'esg_data_template.csv';\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    window.URL.revokeObjectURL(url);\n  };\n\n  const handleDragOver = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragOver(true);\n  }, []);\n\n  const handleDragLeave = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragOver(false);\n  }, []);\n\n  const handleDrop = useCallback((e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragOver(false);\n    const droppedFiles = Array.from(e.dataTransfer.files);\n    processFiles(droppedFiles);\n  }, []);\n\n  const handleFileSelect = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    if (e.target.files) {\n      const selectedFiles = Array.from(e.target.files);\n      processFiles(selectedFiles);\n    }\n  }, []);\n\n  const processFiles = (fileList: File[]) => {\n    const excelFiles = fileList.filter(file => {\n      const isExcel = file.type.includes('sheet') || file.type.includes('excel') || file.name.endsWith('.csv');\n      if (!isExcel) {\n        alert(`File ${file.name} is not a supported spreadsheet format`);\n        return false;\n      }\n      if (file.size > 5 * 1024 * 1024) { // 5MB limit\n        alert(`File ${file.name} is too large. Maximum size is 5MB`);\n        return false;\n      }\n      return true;\n    });\n\n    const newFiles: BulkUploadFile[] = excelFiles.map(file => ({\n      id: Math.random().toString(36).substr(2, 9),\n      name: file.name,\n      size: file.size,\n      status: 'uploading',\n      progress: 0\n    }));\n\n    setFiles(prev => [...prev, ...newFiles]);\n\n    newFiles.forEach(file => {\n      simulateFileProcessing(file.id);\n    });\n  };\n\n  const simulateFileProcessing = async (fileId: string) => {\n    // Simulate upload\n    for (let progress = 0; progress <= 100; progress += 25) {\n      await new Promise(resolve => setTimeout(resolve, 200));\n      setFiles(prev => prev.map(f => \n        f.id === fileId ? { ...f, progress } : f\n      ));\n    }\n\n    // Start validation\n    setFiles(prev => prev.map(f => \n      f.id === fileId ? { ...f, status: 'validating', progress: 0 } : f\n    ));\n\n    // Simulate validation progress\n    for (let progress = 0; progress <= 100; progress += 20) {\n      await new Promise(resolve => setTimeout(resolve, 300));\n      setFiles(prev => prev.map(f => \n        f.id === fileId ? { ...f, progress } : f\n      ));\n    }\n\n    // Simulate validation results\n    const mockErrors: ValidationError[] = [\n      { row: 5, column: 'value', value: 'invalid', error: 'Value must be numeric' },\n      { row: 8, column: 'facility_id', value: 'unknown', error: 'Facility ID not found' }\n    ];\n\n    const mockPreviewData = [\n      { facility_id: 'fac1', metric_type: 'environmental', metric_name: 'emissions', value: 245, unit: 'tons' },\n      { facility_id: 'fac1', metric_type: 'environmental', metric_name: 'energy', value: 1250, unit: 'MWh' },\n      { facility_id: 'fac1', metric_type: 'social', metric_name: 'employees', value: 450, unit: 'count' }\n    ];\n\n    // Complete validation\n    setFiles(prev => prev.map(f => \n      f.id === fileId ? { \n        ...f, \n        status: mockErrors.length > 0 ? 'invalid' : 'valid',\n        progress: 100,\n        rowCount: 150,\n        validRows: 148,\n        errors: mockErrors,\n        previewData: mockPreviewData\n      } : f\n    ));\n  };\n\n  const removeFile = (fileId: string) => {\n    setFiles(prev => prev.filter(f => f.id !== fileId));\n  };\n\n  const importFile = async (fileId: string) => {\n    setFiles(prev => prev.map(f => \n      f.id === fileId ? { ...f, status: 'imported' } : f\n    ));\n    // Simulate import process\n    await new Promise(resolve => setTimeout(resolve, 1000));\n  };\n\n  const formatFileSize = (bytes: number) => {\n    if (bytes === 0) return '0 Bytes';\n    const k = 1024;\n    const sizes = ['Bytes', 'KB', 'MB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n  };\n\n  const getStatusIcon = (status: string) => {\n    switch (status) {\n      case 'valid':\n        return <CheckCircle className=\"w-5 h-5 text-latspace-dark\" />;\n      case 'invalid':\n        return <AlertTriangle className=\"w-5 h-5 text-latspace-light\" />;\n      case 'imported':\n        return <CheckCircle className=\"w-5 h-5 text-latspace-medium\" />;\n      default:\n        return <div className=\"w-5 h-5 border-2 border-latspace-medium border-t-transparent animate-spin\" />;\n    }\n  };\n\n  const getStatusText = (file: BulkUploadFile) => {\n    switch (file.status) {\n      case 'uploading':\n        return 'Uploading...';\n      case 'validating':\n        return 'Validating data...';\n      case 'valid':\n        return `Valid (${file.validRows}/${file.rowCount} rows)`;\n      case 'invalid':\n        return `Invalid (${file.errors?.length} errors found)`;\n      case 'imported':\n        return 'Successfully imported';\n      default:\n        return 'Processing...';\n    }\n  };\n\n  return (\n    <Layout>\n      <div className=\"max-w-4xl mx-auto space-y-grid-6\">\n        <div className=\"flex items-center justify-between border-b border-gray-200 pb-grid-3\">\n          <h1 className=\"text-2xl font-semibold text-latspace-dark\">Bulk Upload</h1>\n          <button\n            onClick={downloadTemplate}\n            className=\"inline-flex items-center px-grid-3 py-grid-2 bg-latspace-dark text-white hover:bg-latspace-medium transition-colors uppercase text-xs font-semibold tracking-wider\"\n          >\n            <Download className=\"w-4 h-4 mr-grid\" />\n            Download Template\n          </button>\n        </div>\n\n        <div className=\"bg-white border border-gray-200 p-grid-4\">\n          <h3 className=\"text-base font-semibold text-latspace-dark mb-grid-3 uppercase tracking-wide\">Template Format</h3>\n          <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full border border-gray-200\">\n              <thead className=\"border-b border-gray-200\">\n                <tr>\n                  {Object.keys(templateData[0]).map(header => (\n                    <th key={header} className=\"px-grid-3 py-grid-2 text-left text-xs font-semibold text-latspace-dark uppercase tracking-wider border-r border-gray-200 last:border-r-0\">\n                      {header}\n                    </th>\n                  ))}\n                </tr>\n              </thead>\n              <tbody className=\"bg-white\">\n                {templateData.map((row, index) => (\n                  <tr key={index} className=\"border-b border-gray-200 last:border-b-0\">\n                    {Object.values(row).map((value, cellIndex) => (\n                      <td key={cellIndex} className=\"px-grid-3 py-grid-2 text-xs text-latspace-dark font-mono data-value border-r border-gray-200 last:border-r-0 grid-pattern\">\n                        {value}\n                      </td>\n                    ))}\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n\n        <div\n          className={`border-2 p-grid-8 text-center transition-colors bg-white ${\n            isDragOver\n              ? 'border-latspace-dark'\n              : 'border-gray-300 hover:border-latspace-medium'\n          }`}\n          onDragOver={handleDragOver}\n          onDragLeave={handleDragLeave}\n          onDrop={handleDrop}\n        >\n          <FileSpreadsheet className=\"w-grid-6 h-grid-6 text-latspace-medium mx-auto mb-grid-3\" />\n          <h3 className=\"text-base font-semibold text-latspace-dark mb-grid-2 uppercase tracking-wide\">\n            Upload Excel/CSV Files\n          </h3>\n          <p className=\"text-latspace-medium mb-grid-3 text-sm\">\n            Drag and drop your spreadsheet files here, or click to browse\n          </p>\n          <input\n            type=\"file\"\n            multiple\n            accept=\".xlsx,.xls,.csv\"\n            onChange={handleFileSelect}\n            className=\"hidden\"\n            id=\"bulk-upload\"\n          />\n          <label\n            htmlFor=\"bulk-upload\"\n            className=\"inline-flex items-center px-grid-3 py-grid-2 bg-latspace-dark text-white hover:bg-latspace-medium transition-colors cursor-pointer uppercase text-xs font-semibold tracking-wider\"\n          >\n            <Upload className=\"w-4 h-4 mr-grid\" />\n            Choose Files\n          </label>\n        </div>\n\n        {files.length > 0 && (\n          <div className=\"bg-white border border-gray-200\">\n            <div className=\"px-grid-4 py-grid-3 border-b border-gray-200\">\n              <h3 className=\"text-base font-semibold text-latspace-dark uppercase tracking-wide\">Upload Progress</h3>\n            </div>\n            <div className=\"p-grid-4 space-y-grid-3\">\n              {files.map((file) => (\n                <div key={file.id} className=\"border border-gray-200 p-grid-3 grid-pattern\">\n                  <div className=\"flex items-center justify-between mb-grid-2\">\n                    <div className=\"flex items-center\">\n                      <FileSpreadsheet className=\"w-6 h-6 text-latspace-dark\" />\n                      <div className=\"ml-grid-2\">\n                        <p className=\"text-sm font-semibold text-latspace-dark\">{file.name}</p>\n                        <p className=\"text-xs text-latspace-medium font-mono data-value\">\n                          {formatFileSize(file.size)} • {getStatusText(file)}\n                        </p>\n                      </div>\n                    </div>\n                    <div className=\"flex items-center space-x-grid-2\">\n                      {getStatusIcon(file.status)}\n                      {file.status === 'valid' && (\n                        <button\n                          onClick={() => setShowPreview(showPreview === file.id ? null : file.id)}\n                          className=\"text-latspace-medium hover:text-latspace-dark transition-colors\"\n                        >\n                          <Eye className=\"w-4 h-4\" />\n                        </button>\n                      )}\n                      <button\n                        onClick={() => removeFile(file.id)}\n                        className=\"text-latspace-medium hover:text-latspace-dark transition-colors\"\n                      >\n                        <X className=\"w-4 h-4\" />\n                      </button>\n                    </div>\n                  </div>\n\n                  {(file.status === 'uploading' || file.status === 'validating') && (\n                    <div className=\"mb-grid-2\">\n                      <div className=\"flex justify-between text-xs mb-grid\">\n                        <span className=\"text-latspace-medium uppercase tracking-wider\">{getStatusText(file)}</span>\n                        <span className=\"font-mono text-latspace-dark data-value\">{file.progress}%</span>\n                      </div>\n                      <div className=\"w-full bg-gray-200 h-2\">\n                        <div\n                          className=\"bg-latspace-dark h-2 transition-all duration-300\"\n                          style={{ width: `${file.progress}%` }}\n                        />\n                      </div>\n                    </div>\n                  )}\n\n                  {file.status === 'invalid' && file.errors && (\n                    <div className=\"border border-latspace-light p-grid-2 mb-grid-2\">\n                      <h4 className=\"text-xs font-semibold text-latspace-light mb-grid-2 uppercase tracking-wider\">\n                        VALIDATION ERRORS ({file.errors.length})\n                      </h4>\n                      <div className=\"space-y-grid max-h-32 overflow-y-auto\">\n                        {file.errors.map((error, index) => (\n                          <div key={index} className=\"text-xs text-latspace-light font-mono\">\n                            ROW {error.row}, COLUMN \"{error.column}\": {error.error}\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  )}\n\n                  {file.status === 'valid' && showPreview === file.id && file.previewData && (\n                    <div className=\"border border-latspace-dark p-grid-2 mb-grid-2\">\n                      <h4 className=\"text-xs font-semibold text-latspace-dark mb-grid-2 uppercase tracking-wider\">\n                        DATA PREVIEW (FIRST 3 ROWS)\n                      </h4>\n                      <div className=\"overflow-x-auto\">\n                        <table className=\"min-w-full text-xs border border-gray-200\">\n                          <thead>\n                            <tr className=\"border-b border-gray-200\">\n                              {Object.keys(file.previewData[0]).map(header => (\n                                <th key={header} className=\"text-left px-grid py-1 text-latspace-dark font-semibold uppercase tracking-wider\">\n                                  {header}\n                                </th>\n                              ))}\n                            </tr>\n                          </thead>\n                          <tbody>\n                            {file.previewData.map((row, index) => (\n                              <tr key={index} className=\"border-b border-gray-200 last:border-b-0\">\n                                {Object.values(row).map((value, cellIndex) => (\n                                  <td key={cellIndex} className=\"px-grid py-1 text-latspace-dark font-mono data-value\">\n                                    {String(value)}\n                                  </td>\n                                ))}\n                              </tr>\n                            ))}\n                          </tbody>\n                        </table>\n                      </div>\n                    </div>\n                  )}\n\n                  {file.status === 'valid' && (\n                    <div className=\"flex justify-end\">\n                      <button\n                        onClick={() => importFile(file.id)}\n                        className=\"px-grid-3 py-grid-2 bg-latspace-dark text-white hover:bg-latspace-medium transition-colors uppercase text-xs font-semibold tracking-wider\"\n                      >\n                        Import Data\n                      </button>\n                    </div>\n                  )}\n\n                  {file.status === 'imported' && (\n                    <div className=\"border border-latspace-medium p-grid-2\">\n                      <p className=\"text-xs text-latspace-medium font-mono uppercase\">\n                        SUCCESSFULLY IMPORTED {file.validRows} ROWS OF ESG DATA\n                      </p>\n                    </div>\n                  )}\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n\n        <div className=\"bg-white border border-gray-200 p-grid-4 grid-pattern\">\n          <h3 className=\"text-base font-semibold text-latspace-dark mb-grid-3 uppercase tracking-wide flex items-center\">\n            <AlertTriangle className=\"w-5 h-5 text-latspace-medium mr-grid-2\" />\n            Bulk Upload Guidelines\n          </h3>\n          <div className=\"space-y-grid-2 text-xs\">\n            <div className=\"flex items-start\">\n              <span className=\"text-latspace-medium mr-grid\">•</span>\n              <span className=\"text-latspace-medium uppercase tracking-wider\">USE THE PROVIDED TEMPLATE FORMAT FOR BEST RESULTS</span>\n            </div>\n            <div className=\"flex items-start\">\n              <span className=\"text-latspace-medium mr-grid\">•</span>\n              <span className=\"text-latspace-medium uppercase tracking-wider\">ENSURE FACILITY_ID MATCHES YOUR ASSIGNED FACILITIES</span>\n            </div>\n            <div className=\"flex items-start\">\n              <span className=\"text-latspace-medium mr-grid\">•</span>\n              <span className=\"text-latspace-medium uppercase tracking-wider\">NUMERIC VALUES SHOULD NOT CONTAIN COMMAS OR CURRENCY SYMBOLS</span>\n            </div>\n            <div className=\"flex items-start\">\n              <span className=\"text-latspace-medium mr-grid\">•</span>\n              <span className=\"text-latspace-medium uppercase tracking-wider\">DATES SHOULD BE IN YYYY-MM-DD FORMAT</span>\n            </div>\n            <div className=\"flex items-start\">\n              <span className=\"text-latspace-medium mr-grid\">•</span>\n              <span className=\"text-latspace-medium uppercase tracking-wider\">MAXIMUM FILE SIZE: 5MB PER FILE</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </Layout>\n  );\n};"],"mappings":"0IAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,WAAW,KAAQ,OAAO,CACpD,OAASC,MAAM,KAAQ,kBAAkB,CACzC,OAASC,QAAQ,CAAEC,MAAM,CAAEC,eAAe,CAAEC,aAAa,CAAEC,WAAW,CAAEC,CAAC,CAAEC,GAAG,KAAQ,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAqBrG,MAAO,MAAM,CAAAC,UAAoB,CAAGA,CAAA,GAAM,CACxC,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGhB,QAAQ,CAAmB,EAAE,CAAC,CACxD,KAAM,CAACiB,UAAU,CAAEC,aAAa,CAAC,CAAGlB,QAAQ,CAAC,KAAK,CAAC,CACnD,KAAM,CAACmB,WAAW,CAAEC,cAAc,CAAC,CAAGpB,QAAQ,CAAgB,IAAI,CAAC,CAEnE,KAAM,CAAAqB,YAAY,CAAG,CACnB,CACEC,WAAW,CAAE,MAAM,CACnBC,WAAW,CAAE,eAAe,CAC5BC,WAAW,CAAE,WAAW,CACxBC,KAAK,CAAE,GAAG,CACVC,IAAI,CAAE,MAAM,CACZC,gBAAgB,CAAE,SAAS,CAC3BC,aAAa,CAAE,YACjB,CAAC,CACD,CACEN,WAAW,CAAE,MAAM,CACnBC,WAAW,CAAE,eAAe,CAC5BC,WAAW,CAAE,QAAQ,CACrBC,KAAK,CAAE,IAAI,CACXC,IAAI,CAAE,KAAK,CACXC,gBAAgB,CAAE,SAAS,CAC3BC,aAAa,CAAE,YACjB,CAAC,CACD,CACEN,WAAW,CAAE,MAAM,CACnBC,WAAW,CAAE,QAAQ,CACrBC,WAAW,CAAE,WAAW,CACxBC,KAAK,CAAE,GAAG,CACVC,IAAI,CAAE,OAAO,CACbC,gBAAgB,CAAE,SAAS,CAC3BC,aAAa,CAAE,YACjB,CAAC,CACF,CAED,KAAM,CAAAC,gBAAgB,CAAGA,CAAA,GAAM,CAC7B,KAAM,CAAAC,GAAG,CAAG,CACVC,MAAM,CAACC,IAAI,CAACX,YAAY,CAAC,CAAC,CAAC,CAAC,CAACY,IAAI,CAAC,GAAG,CAAC,CACtC,GAAGZ,YAAY,CAACa,GAAG,CAACC,GAAG,EAAIJ,MAAM,CAACK,MAAM,CAACD,GAAG,CAAC,CAACF,IAAI,CAAC,GAAG,CAAC,CAAC,CACzD,CAACA,IAAI,CAAC,IAAI,CAAC,CAEZ,KAAM,CAAAI,IAAI,CAAG,GAAI,CAAAC,IAAI,CAAC,CAACR,GAAG,CAAC,CAAE,CAAES,IAAI,CAAE,UAAW,CAAC,CAAC,CAClD,KAAM,CAAAC,GAAG,CAAGC,MAAM,CAACC,GAAG,CAACC,eAAe,CAACN,IAAI,CAAC,CAC5C,KAAM,CAAAO,CAAC,CAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC,CACrCF,CAAC,CAACG,IAAI,CAAGP,GAAG,CACZI,CAAC,CAACI,QAAQ,CAAG,uBAAuB,CACpCH,QAAQ,CAACI,IAAI,CAACC,WAAW,CAACN,CAAC,CAAC,CAC5BA,CAAC,CAACO,KAAK,CAAC,CAAC,CACTN,QAAQ,CAACI,IAAI,CAACG,WAAW,CAACR,CAAC,CAAC,CAC5BH,MAAM,CAACC,GAAG,CAACW,eAAe,CAACb,GAAG,CAAC,CACjC,CAAC,CAED,KAAM,CAAAc,cAAc,CAAGrD,WAAW,CAAEsD,CAAkB,EAAK,CACzDA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBtC,aAAa,CAAC,IAAI,CAAC,CACrB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAuC,eAAe,CAAGxD,WAAW,CAAEsD,CAAkB,EAAK,CAC1DA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBtC,aAAa,CAAC,KAAK,CAAC,CACtB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAwC,UAAU,CAAGzD,WAAW,CAAEsD,CAAkB,EAAK,CACrDA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBtC,aAAa,CAAC,KAAK,CAAC,CACpB,KAAM,CAAAyC,YAAY,CAAGC,KAAK,CAACC,IAAI,CAACN,CAAC,CAACO,YAAY,CAAC/C,KAAK,CAAC,CACrDgD,YAAY,CAACJ,YAAY,CAAC,CAC5B,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAK,gBAAgB,CAAG/D,WAAW,CAAEsD,CAAsC,EAAK,CAC/E,GAAIA,CAAC,CAACU,MAAM,CAAClD,KAAK,CAAE,CAClB,KAAM,CAAAmD,aAAa,CAAGN,KAAK,CAACC,IAAI,CAACN,CAAC,CAACU,MAAM,CAAClD,KAAK,CAAC,CAChDgD,YAAY,CAACG,aAAa,CAAC,CAC7B,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAH,YAAY,CAAII,QAAgB,EAAK,CACzC,KAAM,CAAAC,UAAU,CAAGD,QAAQ,CAACE,MAAM,CAACC,IAAI,EAAI,CACzC,KAAM,CAAAC,OAAO,CAAGD,IAAI,CAAC/B,IAAI,CAACiC,QAAQ,CAAC,OAAO,CAAC,EAAIF,IAAI,CAAC/B,IAAI,CAACiC,QAAQ,CAAC,OAAO,CAAC,EAAIF,IAAI,CAACG,IAAI,CAACC,QAAQ,CAAC,MAAM,CAAC,CACxG,GAAI,CAACH,OAAO,CAAE,CACZI,KAAK,SAAAC,MAAA,CAASN,IAAI,CAACG,IAAI,0CAAwC,CAAC,CAChE,MAAO,MAAK,CACd,CACA,GAAIH,IAAI,CAACO,IAAI,CAAG,CAAC,CAAG,IAAI,CAAG,IAAI,CAAE,CAAE;AACjCF,KAAK,SAAAC,MAAA,CAASN,IAAI,CAACG,IAAI,sCAAoC,CAAC,CAC5D,MAAO,MAAK,CACd,CACA,MAAO,KAAI,CACb,CAAC,CAAC,CAEF,KAAM,CAAAK,QAA0B,CAAGV,UAAU,CAAClC,GAAG,CAACoC,IAAI,GAAK,CACzDS,EAAE,CAAEC,IAAI,CAACC,MAAM,CAAC,CAAC,CAACC,QAAQ,CAAC,EAAE,CAAC,CAACC,MAAM,CAAC,CAAC,CAAE,CAAC,CAAC,CAC3CV,IAAI,CAAEH,IAAI,CAACG,IAAI,CACfI,IAAI,CAAEP,IAAI,CAACO,IAAI,CACfO,MAAM,CAAE,WAAW,CACnBC,QAAQ,CAAE,CACZ,CAAC,CAAC,CAAC,CAEHrE,QAAQ,CAACsE,IAAI,EAAI,CAAC,GAAGA,IAAI,CAAE,GAAGR,QAAQ,CAAC,CAAC,CAExCA,QAAQ,CAACS,OAAO,CAACjB,IAAI,EAAI,CACvBkB,sBAAsB,CAAClB,IAAI,CAACS,EAAE,CAAC,CACjC,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAAS,sBAAsB,CAAG,KAAO,CAAAC,MAAc,EAAK,CACvD;AACA,IAAK,GAAI,CAAAJ,QAAQ,CAAG,CAAC,CAAEA,QAAQ,EAAI,GAAG,CAAEA,QAAQ,EAAI,EAAE,CAAE,CACtD,KAAM,IAAI,CAAAK,OAAO,CAACC,OAAO,EAAIC,UAAU,CAACD,OAAO,CAAE,GAAG,CAAC,CAAC,CACtD3E,QAAQ,CAACsE,IAAI,EAAIA,IAAI,CAACpD,GAAG,CAAC2D,CAAC,EACzBA,CAAC,CAACd,EAAE,GAAKU,MAAM,CAAAK,aAAA,CAAAA,aAAA,IAAQD,CAAC,MAAER,QAAQ,GAAKQ,CACzC,CAAC,CAAC,CACJ,CAEA;AACA7E,QAAQ,CAACsE,IAAI,EAAIA,IAAI,CAACpD,GAAG,CAAC2D,CAAC,EACzBA,CAAC,CAACd,EAAE,GAAKU,MAAM,CAAAK,aAAA,CAAAA,aAAA,IAAQD,CAAC,MAAET,MAAM,CAAE,YAAY,CAAEC,QAAQ,CAAE,CAAC,GAAKQ,CAClE,CAAC,CAAC,CAEF;AACA,IAAK,GAAI,CAAAR,QAAQ,CAAG,CAAC,CAAEA,QAAQ,EAAI,GAAG,CAAEA,QAAQ,EAAI,EAAE,CAAE,CACtD,KAAM,IAAI,CAAAK,OAAO,CAACC,OAAO,EAAIC,UAAU,CAACD,OAAO,CAAE,GAAG,CAAC,CAAC,CACtD3E,QAAQ,CAACsE,IAAI,EAAIA,IAAI,CAACpD,GAAG,CAAC2D,CAAC,EACzBA,CAAC,CAACd,EAAE,GAAKU,MAAM,CAAAK,aAAA,CAAAA,aAAA,IAAQD,CAAC,MAAER,QAAQ,GAAKQ,CACzC,CAAC,CAAC,CACJ,CAEA;AACA,KAAM,CAAAE,UAA6B,CAAG,CACpC,CAAE5D,GAAG,CAAE,CAAC,CAAE6D,MAAM,CAAE,OAAO,CAAEvE,KAAK,CAAE,SAAS,CAAEwE,KAAK,CAAE,uBAAwB,CAAC,CAC7E,CAAE9D,GAAG,CAAE,CAAC,CAAE6D,MAAM,CAAE,aAAa,CAAEvE,KAAK,CAAE,SAAS,CAAEwE,KAAK,CAAE,uBAAwB,CAAC,CACpF,CAED,KAAM,CAAAC,eAAe,CAAG,CACtB,CAAE5E,WAAW,CAAE,MAAM,CAAEC,WAAW,CAAE,eAAe,CAAEC,WAAW,CAAE,WAAW,CAAEC,KAAK,CAAE,GAAG,CAAEC,IAAI,CAAE,MAAO,CAAC,CACzG,CAAEJ,WAAW,CAAE,MAAM,CAAEC,WAAW,CAAE,eAAe,CAAEC,WAAW,CAAE,QAAQ,CAAEC,KAAK,CAAE,IAAI,CAAEC,IAAI,CAAE,KAAM,CAAC,CACtG,CAAEJ,WAAW,CAAE,MAAM,CAAEC,WAAW,CAAE,QAAQ,CAAEC,WAAW,CAAE,WAAW,CAAEC,KAAK,CAAE,GAAG,CAAEC,IAAI,CAAE,OAAQ,CAAC,CACpG,CAED;AACAV,QAAQ,CAACsE,IAAI,EAAIA,IAAI,CAACpD,GAAG,CAAC2D,CAAC,EACzBA,CAAC,CAACd,EAAE,GAAKU,MAAM,CAAAK,aAAA,CAAAA,aAAA,IACVD,CAAC,MACJT,MAAM,CAAEW,UAAU,CAACI,MAAM,CAAG,CAAC,CAAG,SAAS,CAAG,OAAO,CACnDd,QAAQ,CAAE,GAAG,CACbe,QAAQ,CAAE,GAAG,CACbC,SAAS,CAAE,GAAG,CACdC,MAAM,CAAEP,UAAU,CAClBQ,WAAW,CAAEL,eAAe,GAC1BL,CACN,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAAW,UAAU,CAAIf,MAAc,EAAK,CACrCzE,QAAQ,CAACsE,IAAI,EAAIA,IAAI,CAACjB,MAAM,CAACwB,CAAC,EAAIA,CAAC,CAACd,EAAE,GAAKU,MAAM,CAAC,CAAC,CACrD,CAAC,CAED,KAAM,CAAAgB,UAAU,CAAG,KAAO,CAAAhB,MAAc,EAAK,CAC3CzE,QAAQ,CAACsE,IAAI,EAAIA,IAAI,CAACpD,GAAG,CAAC2D,CAAC,EACzBA,CAAC,CAACd,EAAE,GAAKU,MAAM,CAAAK,aAAA,CAAAA,aAAA,IAAQD,CAAC,MAAET,MAAM,CAAE,UAAU,GAAKS,CACnD,CAAC,CAAC,CACF;AACA,KAAM,IAAI,CAAAH,OAAO,CAACC,OAAO,EAAIC,UAAU,CAACD,OAAO,CAAE,IAAI,CAAC,CAAC,CACzD,CAAC,CAED,KAAM,CAAAe,cAAc,CAAIC,KAAa,EAAK,CACxC,GAAIA,KAAK,GAAK,CAAC,CAAE,MAAO,SAAS,CACjC,KAAM,CAAAC,CAAC,CAAG,IAAI,CACd,KAAM,CAAAC,KAAK,CAAG,CAAC,OAAO,CAAE,IAAI,CAAE,IAAI,CAAC,CACnC,KAAM,CAAAC,CAAC,CAAG9B,IAAI,CAAC+B,KAAK,CAAC/B,IAAI,CAACgC,GAAG,CAACL,KAAK,CAAC,CAAG3B,IAAI,CAACgC,GAAG,CAACJ,CAAC,CAAC,CAAC,CACnD,MAAO,CAAAK,UAAU,CAAC,CAACN,KAAK,CAAG3B,IAAI,CAACkC,GAAG,CAACN,CAAC,CAAEE,CAAC,CAAC,EAAEK,OAAO,CAAC,CAAC,CAAC,CAAC,CAAG,GAAG,CAAGN,KAAK,CAACC,CAAC,CAAC,CACzE,CAAC,CAED,KAAM,CAAAM,aAAa,CAAIhC,MAAc,EAAK,CACxC,OAAQA,MAAM,EACZ,IAAK,OAAO,CACV,mBAAOzE,IAAA,CAACJ,WAAW,EAAC8G,SAAS,CAAC,4BAA4B,CAAE,CAAC,CAC/D,IAAK,SAAS,CACZ,mBAAO1G,IAAA,CAACL,aAAa,EAAC+G,SAAS,CAAC,6BAA6B,CAAE,CAAC,CAClE,IAAK,UAAU,CACb,mBAAO1G,IAAA,CAACJ,WAAW,EAAC8G,SAAS,CAAC,8BAA8B,CAAE,CAAC,CACjE,QACE,mBAAO1G,IAAA,QAAK0G,SAAS,CAAC,2EAA2E,CAAE,CAAC,CACxG,CACF,CAAC,CAED,KAAM,CAAAC,aAAa,CAAIhD,IAAoB,EAAK,KAAAiD,YAAA,CAC9C,OAAQjD,IAAI,CAACc,MAAM,EACjB,IAAK,WAAW,CACd,MAAO,cAAc,CACvB,IAAK,YAAY,CACf,MAAO,oBAAoB,CAC7B,IAAK,OAAO,CACV,gBAAAR,MAAA,CAAiBN,IAAI,CAAC+B,SAAS,MAAAzB,MAAA,CAAIN,IAAI,CAAC8B,QAAQ,WAClD,IAAK,SAAS,CACZ,kBAAAxB,MAAA,EAAA2C,YAAA,CAAmBjD,IAAI,CAACgC,MAAM,UAAAiB,YAAA,iBAAXA,YAAA,CAAapB,MAAM,mBACxC,IAAK,UAAU,CACb,MAAO,uBAAuB,CAChC,QACE,MAAO,eAAe,CAC1B,CACF,CAAC,CAED,mBACExF,IAAA,CAACT,MAAM,EAAAsH,QAAA,cACL3G,KAAA,QAAKwG,SAAS,CAAC,kCAAkC,CAAAG,QAAA,eAC/C3G,KAAA,QAAKwG,SAAS,CAAC,sEAAsE,CAAAG,QAAA,eACnF7G,IAAA,OAAI0G,SAAS,CAAC,2CAA2C,CAAAG,QAAA,CAAC,aAAW,CAAI,CAAC,cAC1E3G,KAAA,WACE4G,OAAO,CAAE5F,gBAAiB,CAC1BwF,SAAS,CAAC,oKAAoK,CAAAG,QAAA,eAE9K7G,IAAA,CAACR,QAAQ,EAACkH,SAAS,CAAC,iBAAiB,CAAE,CAAC,oBAE1C,EAAQ,CAAC,EACN,CAAC,cAENxG,KAAA,QAAKwG,SAAS,CAAC,0CAA0C,CAAAG,QAAA,eACvD7G,IAAA,OAAI0G,SAAS,CAAC,8EAA8E,CAAAG,QAAA,CAAC,iBAAe,CAAI,CAAC,cACjH7G,IAAA,QAAK0G,SAAS,CAAC,iBAAiB,CAAAG,QAAA,cAC9B3G,KAAA,UAAOwG,SAAS,CAAC,mCAAmC,CAAAG,QAAA,eAClD7G,IAAA,UAAO0G,SAAS,CAAC,0BAA0B,CAAAG,QAAA,cACzC7G,IAAA,OAAA6G,QAAA,CACGzF,MAAM,CAACC,IAAI,CAACX,YAAY,CAAC,CAAC,CAAC,CAAC,CAACa,GAAG,CAACwF,MAAM,eACtC/G,IAAA,OAAiB0G,SAAS,CAAC,0IAA0I,CAAAG,QAAA,CAClKE,MAAM,EADAA,MAEL,CACL,CAAC,CACA,CAAC,CACA,CAAC,cACR/G,IAAA,UAAO0G,SAAS,CAAC,UAAU,CAAAG,QAAA,CACxBnG,YAAY,CAACa,GAAG,CAAC,CAACC,GAAG,CAAEwF,KAAK,gBAC3BhH,IAAA,OAAgB0G,SAAS,CAAC,0CAA0C,CAAAG,QAAA,CACjEzF,MAAM,CAACK,MAAM,CAACD,GAAG,CAAC,CAACD,GAAG,CAAC,CAACT,KAAK,CAAEmG,SAAS,gBACvCjH,IAAA,OAAoB0G,SAAS,CAAC,2HAA2H,CAAAG,QAAA,CACtJ/F,KAAK,EADCmG,SAEL,CACL,CAAC,EALKD,KAML,CACL,CAAC,CACG,CAAC,EACH,CAAC,CACL,CAAC,EACH,CAAC,cAEN9G,KAAA,QACEwG,SAAS,6DAAAzC,MAAA,CACP3D,UAAU,CACN,sBAAsB,CACtB,8CAA8C,CACjD,CACH4G,UAAU,CAAEvE,cAAe,CAC3BwE,WAAW,CAAErE,eAAgB,CAC7BsE,MAAM,CAAErE,UAAW,CAAA8D,QAAA,eAEnB7G,IAAA,CAACN,eAAe,EAACgH,SAAS,CAAC,0DAA0D,CAAE,CAAC,cACxF1G,IAAA,OAAI0G,SAAS,CAAC,8EAA8E,CAAAG,QAAA,CAAC,wBAE7F,CAAI,CAAC,cACL7G,IAAA,MAAG0G,SAAS,CAAC,wCAAwC,CAAAG,QAAA,CAAC,+DAEtD,CAAG,CAAC,cACJ7G,IAAA,UACE4B,IAAI,CAAC,MAAM,CACXyF,QAAQ,MACRC,MAAM,CAAC,iBAAiB,CACxBC,QAAQ,CAAElE,gBAAiB,CAC3BqD,SAAS,CAAC,QAAQ,CAClBtC,EAAE,CAAC,aAAa,CACjB,CAAC,cACFlE,KAAA,UACEsH,OAAO,CAAC,aAAa,CACrBd,SAAS,CAAC,mLAAmL,CAAAG,QAAA,eAE7L7G,IAAA,CAACP,MAAM,EAACiH,SAAS,CAAC,iBAAiB,CAAE,CAAC,eAExC,EAAO,CAAC,EACL,CAAC,CAELtG,KAAK,CAACoF,MAAM,CAAG,CAAC,eACftF,KAAA,QAAKwG,SAAS,CAAC,iCAAiC,CAAAG,QAAA,eAC9C7G,IAAA,QAAK0G,SAAS,CAAC,8CAA8C,CAAAG,QAAA,cAC3D7G,IAAA,OAAI0G,SAAS,CAAC,oEAAoE,CAAAG,QAAA,CAAC,iBAAe,CAAI,CAAC,CACpG,CAAC,cACN7G,IAAA,QAAK0G,SAAS,CAAC,yBAAyB,CAAAG,QAAA,CACrCzG,KAAK,CAACmB,GAAG,CAAEoC,IAAI,eACdzD,KAAA,QAAmBwG,SAAS,CAAC,8CAA8C,CAAAG,QAAA,eACzE3G,KAAA,QAAKwG,SAAS,CAAC,6CAA6C,CAAAG,QAAA,eAC1D3G,KAAA,QAAKwG,SAAS,CAAC,mBAAmB,CAAAG,QAAA,eAChC7G,IAAA,CAACN,eAAe,EAACgH,SAAS,CAAC,4BAA4B,CAAE,CAAC,cAC1DxG,KAAA,QAAKwG,SAAS,CAAC,WAAW,CAAAG,QAAA,eACxB7G,IAAA,MAAG0G,SAAS,CAAC,0CAA0C,CAAAG,QAAA,CAAElD,IAAI,CAACG,IAAI,CAAI,CAAC,cACvE5D,KAAA,MAAGwG,SAAS,CAAC,mDAAmD,CAAAG,QAAA,EAC7Dd,cAAc,CAACpC,IAAI,CAACO,IAAI,CAAC,CAAC,UAAG,CAACyC,aAAa,CAAChD,IAAI,CAAC,EACjD,CAAC,EACD,CAAC,EACH,CAAC,cACNzD,KAAA,QAAKwG,SAAS,CAAC,kCAAkC,CAAAG,QAAA,EAC9CJ,aAAa,CAAC9C,IAAI,CAACc,MAAM,CAAC,CAC1Bd,IAAI,CAACc,MAAM,GAAK,OAAO,eACtBzE,IAAA,WACE8G,OAAO,CAAEA,CAAA,GAAMrG,cAAc,CAACD,WAAW,GAAKmD,IAAI,CAACS,EAAE,CAAG,IAAI,CAAGT,IAAI,CAACS,EAAE,CAAE,CACxEsC,SAAS,CAAC,iEAAiE,CAAAG,QAAA,cAE3E7G,IAAA,CAACF,GAAG,EAAC4G,SAAS,CAAC,SAAS,CAAE,CAAC,CACrB,CACT,cACD1G,IAAA,WACE8G,OAAO,CAAEA,CAAA,GAAMjB,UAAU,CAAClC,IAAI,CAACS,EAAE,CAAE,CACnCsC,SAAS,CAAC,iEAAiE,CAAAG,QAAA,cAE3E7G,IAAA,CAACH,CAAC,EAAC6G,SAAS,CAAC,SAAS,CAAE,CAAC,CACnB,CAAC,EACN,CAAC,EACH,CAAC,CAEL,CAAC/C,IAAI,CAACc,MAAM,GAAK,WAAW,EAAId,IAAI,CAACc,MAAM,GAAK,YAAY,gBAC3DvE,KAAA,QAAKwG,SAAS,CAAC,WAAW,CAAAG,QAAA,eACxB3G,KAAA,QAAKwG,SAAS,CAAC,sCAAsC,CAAAG,QAAA,eACnD7G,IAAA,SAAM0G,SAAS,CAAC,+CAA+C,CAAAG,QAAA,CAAEF,aAAa,CAAChD,IAAI,CAAC,CAAO,CAAC,cAC5FzD,KAAA,SAAMwG,SAAS,CAAC,yCAAyC,CAAAG,QAAA,EAAElD,IAAI,CAACe,QAAQ,CAAC,GAAC,EAAM,CAAC,EAC9E,CAAC,cACN1E,IAAA,QAAK0G,SAAS,CAAC,wBAAwB,CAAAG,QAAA,cACrC7G,IAAA,QACE0G,SAAS,CAAC,kDAAkD,CAC5De,KAAK,CAAE,CAAEC,KAAK,IAAAzD,MAAA,CAAKN,IAAI,CAACe,QAAQ,KAAI,CAAE,CACvC,CAAC,CACC,CAAC,EACH,CACN,CAEAf,IAAI,CAACc,MAAM,GAAK,SAAS,EAAId,IAAI,CAACgC,MAAM,eACvCzF,KAAA,QAAKwG,SAAS,CAAC,iDAAiD,CAAAG,QAAA,eAC9D3G,KAAA,OAAIwG,SAAS,CAAC,8EAA8E,CAAAG,QAAA,EAAC,qBACxE,CAAClD,IAAI,CAACgC,MAAM,CAACH,MAAM,CAAC,GACzC,EAAI,CAAC,cACLxF,IAAA,QAAK0G,SAAS,CAAC,uCAAuC,CAAAG,QAAA,CACnDlD,IAAI,CAACgC,MAAM,CAACpE,GAAG,CAAC,CAAC+D,KAAK,CAAE0B,KAAK,gBAC5B9G,KAAA,QAAiBwG,SAAS,CAAC,uCAAuC,CAAAG,QAAA,EAAC,MAC7D,CAACvB,KAAK,CAAC9D,GAAG,CAAC,aAAU,CAAC8D,KAAK,CAACD,MAAM,CAAC,MAAG,CAACC,KAAK,CAACA,KAAK,GAD9C0B,KAEL,CACN,CAAC,CACC,CAAC,EACH,CACN,CAEArD,IAAI,CAACc,MAAM,GAAK,OAAO,EAAIjE,WAAW,GAAKmD,IAAI,CAACS,EAAE,EAAIT,IAAI,CAACiC,WAAW,eACrE1F,KAAA,QAAKwG,SAAS,CAAC,gDAAgD,CAAAG,QAAA,eAC7D7G,IAAA,OAAI0G,SAAS,CAAC,6EAA6E,CAAAG,QAAA,CAAC,6BAE5F,CAAI,CAAC,cACL7G,IAAA,QAAK0G,SAAS,CAAC,iBAAiB,CAAAG,QAAA,cAC9B3G,KAAA,UAAOwG,SAAS,CAAC,2CAA2C,CAAAG,QAAA,eAC1D7G,IAAA,UAAA6G,QAAA,cACE7G,IAAA,OAAI0G,SAAS,CAAC,0BAA0B,CAAAG,QAAA,CACrCzF,MAAM,CAACC,IAAI,CAACsC,IAAI,CAACiC,WAAW,CAAC,CAAC,CAAC,CAAC,CAACrE,GAAG,CAACwF,MAAM,eAC1C/G,IAAA,OAAiB0G,SAAS,CAAC,kFAAkF,CAAAG,QAAA,CAC1GE,MAAM,EADAA,MAEL,CACL,CAAC,CACA,CAAC,CACA,CAAC,cACR/G,IAAA,UAAA6G,QAAA,CACGlD,IAAI,CAACiC,WAAW,CAACrE,GAAG,CAAC,CAACC,GAAG,CAAEwF,KAAK,gBAC/BhH,IAAA,OAAgB0G,SAAS,CAAC,0CAA0C,CAAAG,QAAA,CACjEzF,MAAM,CAACK,MAAM,CAACD,GAAG,CAAC,CAACD,GAAG,CAAC,CAACT,KAAK,CAAEmG,SAAS,gBACvCjH,IAAA,OAAoB0G,SAAS,CAAC,sDAAsD,CAAAG,QAAA,CACjFc,MAAM,CAAC7G,KAAK,CAAC,EADPmG,SAEL,CACL,CAAC,EALKD,KAML,CACL,CAAC,CACG,CAAC,EACH,CAAC,CACL,CAAC,EACH,CACN,CAEArD,IAAI,CAACc,MAAM,GAAK,OAAO,eACtBzE,IAAA,QAAK0G,SAAS,CAAC,kBAAkB,CAAAG,QAAA,cAC/B7G,IAAA,WACE8G,OAAO,CAAEA,CAAA,GAAMhB,UAAU,CAACnC,IAAI,CAACS,EAAE,CAAE,CACnCsC,SAAS,CAAC,2IAA2I,CAAAG,QAAA,CACtJ,aAED,CAAQ,CAAC,CACN,CACN,CAEAlD,IAAI,CAACc,MAAM,GAAK,UAAU,eACzBzE,IAAA,QAAK0G,SAAS,CAAC,wCAAwC,CAAAG,QAAA,cACrD3G,KAAA,MAAGwG,SAAS,CAAC,kDAAkD,CAAAG,QAAA,EAAC,wBACxC,CAAClD,IAAI,CAAC+B,SAAS,CAAC,mBACxC,EAAG,CAAC,CACD,CACN,GA7GO/B,IAAI,CAACS,EA8GV,CACN,CAAC,CACC,CAAC,EACH,CACN,cAEDlE,KAAA,QAAKwG,SAAS,CAAC,uDAAuD,CAAAG,QAAA,eACpE3G,KAAA,OAAIwG,SAAS,CAAC,gGAAgG,CAAAG,QAAA,eAC5G7G,IAAA,CAACL,aAAa,EAAC+G,SAAS,CAAC,wCAAwC,CAAE,CAAC,yBAEtE,EAAI,CAAC,cACLxG,KAAA,QAAKwG,SAAS,CAAC,wBAAwB,CAAAG,QAAA,eACrC3G,KAAA,QAAKwG,SAAS,CAAC,kBAAkB,CAAAG,QAAA,eAC/B7G,IAAA,SAAM0G,SAAS,CAAC,8BAA8B,CAAAG,QAAA,CAAC,QAAC,CAAM,CAAC,cACvD7G,IAAA,SAAM0G,SAAS,CAAC,+CAA+C,CAAAG,QAAA,CAAC,mDAAiD,CAAM,CAAC,EACrH,CAAC,cACN3G,KAAA,QAAKwG,SAAS,CAAC,kBAAkB,CAAAG,QAAA,eAC/B7G,IAAA,SAAM0G,SAAS,CAAC,8BAA8B,CAAAG,QAAA,CAAC,QAAC,CAAM,CAAC,cACvD7G,IAAA,SAAM0G,SAAS,CAAC,+CAA+C,CAAAG,QAAA,CAAC,qDAAmD,CAAM,CAAC,EACvH,CAAC,cACN3G,KAAA,QAAKwG,SAAS,CAAC,kBAAkB,CAAAG,QAAA,eAC/B7G,IAAA,SAAM0G,SAAS,CAAC,8BAA8B,CAAAG,QAAA,CAAC,QAAC,CAAM,CAAC,cACvD7G,IAAA,SAAM0G,SAAS,CAAC,+CAA+C,CAAAG,QAAA,CAAC,8DAA4D,CAAM,CAAC,EAChI,CAAC,cACN3G,KAAA,QAAKwG,SAAS,CAAC,kBAAkB,CAAAG,QAAA,eAC/B7G,IAAA,SAAM0G,SAAS,CAAC,8BAA8B,CAAAG,QAAA,CAAC,QAAC,CAAM,CAAC,cACvD7G,IAAA,SAAM0G,SAAS,CAAC,+CAA+C,CAAAG,QAAA,CAAC,sCAAoC,CAAM,CAAC,EACxG,CAAC,cACN3G,KAAA,QAAKwG,SAAS,CAAC,kBAAkB,CAAAG,QAAA,eAC/B7G,IAAA,SAAM0G,SAAS,CAAC,8BAA8B,CAAAG,QAAA,CAAC,QAAC,CAAM,CAAC,cACvD7G,IAAA,SAAM0G,SAAS,CAAC,+CAA+C,CAAAG,QAAA,CAAC,iCAA+B,CAAM,CAAC,EACnG,CAAC,EACH,CAAC,EACH,CAAC,EACH,CAAC,CACA,CAAC,CAEb,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}