{"ast":null,"code":"var _jsxFileName = \"/Users/hellevete/Documents/sagaruiv2/latspace/src/App.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport { AuthProvider, useAuth } from './context/AuthContext';\nimport { Login } from './pages/Login';\nimport { AdminHome } from './pages/AdminHome';\nimport { FacilityHome } from './pages/FacilityHome';\nimport { Facilities } from './pages/Facilities';\nimport { FacilityDetail } from './pages/FacilityDetail';\nimport { ManualEntry } from './components/data-collection/ManualEntry';\nimport { DocumentUpload } from './components/data-collection/DocumentUpload';\nimport { BulkUpload } from './components/data-collection/BulkUpload';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ProtectedRoute = ({\n  children,\n  allowedRoles\n}) => {\n  _s();\n  const {\n    isAuthenticated,\n    user\n  } = useAuth();\n  if (!isAuthenticated) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/\",\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 12\n    }, this);\n  }\n  if (allowedRoles && user && !allowedRoles.includes(user.role)) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/\",\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: children\n  }, void 0, false);\n};\n_s(ProtectedRoute, \"zqOjhT7Uiy3zlq7M7mfKh34T04g=\", false, function () {\n  return [useAuth];\n});\n_c = ProtectedRoute;\nconst AppRoutes = () => {\n  _s2();\n  const {\n    isAuthenticated,\n    user\n  } = useAuth();\n  return /*#__PURE__*/_jsxDEV(Routes, {\n    children: [/*#__PURE__*/_jsxDEV(Route, {\n      path: \"/\",\n      element: isAuthenticated ? (user === null || user === void 0 ? void 0 : user.role) === 'admin' ? /*#__PURE__*/_jsxDEV(Navigate, {\n        to: \"/admin\",\n        replace: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 36\n      }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n        to: \"/facility\",\n        replace: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 71\n      }, this) : /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/admin\",\n      element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n        allowedRoles: ['admin'],\n        children: /*#__PURE__*/_jsxDEV(AdminHome, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/admin/facilities\",\n      element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n        allowedRoles: ['admin'],\n        children: /*#__PURE__*/_jsxDEV(Facilities, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/admin/facility/:facilityId\",\n      element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n        allowedRoles: ['admin'],\n        children: /*#__PURE__*/_jsxDEV(FacilityDetail, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/facility\",\n      element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n        allowedRoles: ['facility_head'],\n        children: /*#__PURE__*/_jsxDEV(FacilityHome, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/facility/manual-entry\",\n      element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n        allowedRoles: ['facility_head'],\n        children: /*#__PURE__*/_jsxDEV(ManualEntry, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/facility/upload-docs\",\n      element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n        allowedRoles: ['facility_head'],\n        children: /*#__PURE__*/_jsxDEV(DocumentUpload, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Route, {\n      path: \"/facility/bulk-upload\",\n      element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n        allowedRoles: ['facility_head'],\n        children: /*#__PURE__*/_jsxDEV(BulkUpload, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n};\n_s2(AppRoutes, \"zqOjhT7Uiy3zlq7M7mfKh34T04g=\", false, function () {\n  return [useAuth];\n});\n_c2 = AppRoutes;\nfunction App() {\n  return /*#__PURE__*/_jsxDEV(AuthProvider, {\n    children: /*#__PURE__*/_jsxDEV(Router, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"min-h-screen bg-gray-50\",\n        children: /*#__PURE__*/_jsxDEV(AppRoutes, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 5\n  }, this);\n}\n_c3 = App;\nexport default App;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"ProtectedRoute\");\n$RefreshReg$(_c2, \"AppRoutes\");\n$RefreshReg$(_c3, \"App\");","map":{"version":3,"names":["React","BrowserRouter","Router","Routes","Route","Navigate","AuthProvider","useAuth","Login","AdminHome","FacilityHome","Facilities","FacilityDetail","ManualEntry","DocumentUpload","BulkUpload","jsxDEV","_jsxDEV","Fragment","_Fragment","ProtectedRoute","children","allowedRoles","_s","isAuthenticated","user","to","replace","fileName","_jsxFileName","lineNumber","columnNumber","includes","role","_c","AppRoutes","_s2","path","element","_c2","App","className","_c3","$RefreshReg$"],"sources":["/Users/hellevete/Documents/sagaruiv2/latspace/src/App.tsx"],"sourcesContent":["import React from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport { AuthProvider, useAuth } from './context/AuthContext';\nimport { Login } from './pages/Login';\nimport { AdminHome } from './pages/AdminHome';\nimport { FacilityHome } from './pages/FacilityHome';\nimport { Facilities } from './pages/Facilities';\nimport { FacilityDetail } from './pages/FacilityDetail';\nimport { ManualEntry } from './components/data-collection/ManualEntry';\nimport { DocumentUpload } from './components/data-collection/DocumentUpload';\nimport { BulkUpload } from './components/data-collection/BulkUpload';\n\nconst ProtectedRoute: React.FC<{ children: React.ReactNode; allowedRoles?: string[] }> = ({ \n  children, \n  allowedRoles \n}) => {\n  const { isAuthenticated, user } = useAuth();\n  \n  if (!isAuthenticated) {\n    return <Navigate to=\"/\" replace />;\n  }\n  \n  if (allowedRoles && user && !allowedRoles.includes(user.role)) {\n    return <Navigate to=\"/\" replace />;\n  }\n  \n  return <>{children}</>;\n};\n\nconst AppRoutes: React.FC = () => {\n  const { isAuthenticated, user } = useAuth();\n\n  return (\n    <Routes>\n      <Route path=\"/\" element={\n        isAuthenticated ? (\n          user?.role === 'admin' ? <Navigate to=\"/admin\" replace /> : <Navigate to=\"/facility\" replace />\n        ) : (\n          <Login />\n        )\n      } />\n      \n      <Route path=\"/admin\" element={\n        <ProtectedRoute allowedRoles={['admin']}>\n          <AdminHome />\n        </ProtectedRoute>\n      } />\n      \n      <Route path=\"/admin/facilities\" element={\n        <ProtectedRoute allowedRoles={['admin']}>\n          <Facilities />\n        </ProtectedRoute>\n      } />\n      \n      <Route path=\"/admin/facility/:facilityId\" element={\n        <ProtectedRoute allowedRoles={['admin']}>\n          <FacilityDetail />\n        </ProtectedRoute>\n      } />\n      \n      <Route path=\"/facility\" element={\n        <ProtectedRoute allowedRoles={['facility_head']}>\n          <FacilityHome />\n        </ProtectedRoute>\n      } />\n      \n      <Route path=\"/facility/manual-entry\" element={\n        <ProtectedRoute allowedRoles={['facility_head']}>\n          <ManualEntry />\n        </ProtectedRoute>\n      } />\n      \n      <Route path=\"/facility/upload-docs\" element={\n        <ProtectedRoute allowedRoles={['facility_head']}>\n          <DocumentUpload />\n        </ProtectedRoute>\n      } />\n      \n      <Route path=\"/facility/bulk-upload\" element={\n        <ProtectedRoute allowedRoles={['facility_head']}>\n          <BulkUpload />\n        </ProtectedRoute>\n      } />\n    </Routes>\n  );\n};\n\nfunction App() {\n  return (\n    <AuthProvider>\n      <Router>\n        <div className=\"min-h-screen bg-gray-50\">\n          <AppRoutes />\n        </div>\n      </Router>\n    </AuthProvider>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}